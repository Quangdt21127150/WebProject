<link rel="stylesheet" href="/styles/forms.css" />

<form
  action="<%= submitPath %>?_csrf=<%= locals.csrfToken %>"
  method="POST"
  enctype="multipart/form-data"
>
  <div
    class="modal fade"
    id="exampleModal<%= i %>"
    tabindex="-1"
    aria-labelledby="exampleModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5 text-black" id="exampleModalLabel">
            <%= title %>
          </h1>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body">
          <p>
            <label class="text-black" for="title">Title</label>
            <input
              type="text"
              id="title"
              name="title"
              value="<%= product.title %>"
              required
            />
          </p>

          <input
            id="cateId"
            name="cateId"
            value="<%= category.id %>"
            class="d-none"
          />
          <p class="text-black">Category: <%= category.title %></p>

          <section id="image-upload-control">
            <p>
              <label class="text-black" for="image">Image</label>
              <input
                type="file"
                id="image"
                name="image"
                accept="image/png,image/jpg"
                class="text-black border-0"
                <% if(imageRequired) { %> required <% } %>
              />
            </p>

            <img src="<%= product.imageUrl %>" alt="Selected image." />
          </section>

          <p>
            <label class="text-black" for="summary">Summary</label>
            <input
              type="text"
              id="summary"
              name="summary"
              value="<%= product.summary %>"
              required
              maxlength="250"
            />
          </p>

          <p>
            <label class="text-black" for="price">Price</label>
            <input
              type="number"
              id="price"
              name="price"
              value="<%= product.price %>"
              min="0.01"
              step="0.01"
              required
            />
          </p>

          <p>
            <label class="text-black" for="description">Description</label>
            <textarea id="description" name="description" rows="5" required><%= product.description %></textarea>
          </p>
        </div>
        <div class="modal-footer">
          <button
            type="reset"
            class="btn btn-alt text-secondary border-secondary"
          >
            <i class="fa-solid fa-arrow-rotate-right"></i> Reset
          </button>
          <button class="btn bg-primary border-primary">
            <i class="fa-solid fa-check"></i> 
            Save
          </button>
        </div>
      </div>
    </div>
  </div>
</form>
